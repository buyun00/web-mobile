System.register("chunks:///_virtual/BulletComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(n){var t,e,o,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},null,function(n){o=n.ecsclass},function(n){c=n.EcsComponent}],execute:function(){var s,l;e._RF.push({},"aa42fmEsdhDXq4c6W4hUdKw","BulletComponent",void 0);n("BulletComponent",o("BulletComponent")(((l=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(c)).allowRecycling=!0,s=l))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/CollideComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./cc-sap.ts","./EcsManager.ts","./Body2.ts","./EcsComponent.ts"],(function(t){var n,o,e,s,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},null,null,function(t){e=t.ecsclass},function(t){s=t.Body},function(t){c=t.EcsComponent}],execute:function(){var i,l;o._RF.push({},"ae318I+lXpLZJo8Yu5ob93W","CollideComponent",void 0);t("CollideComponent",e("CollideComponent")(((l=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return(n=t.call.apply(t,[this].concat(e))||this).body=new s(0),n}n(o,t);var e=o.prototype;return e.onAdd=function(){this.body.setID(this.entity.uuid),this.body.setData(this.entity)},e.onRemove=function(){this.body.setID(0),this.body.setData(null)},o}(c)).allowRecycling=!0,i=l))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/CollideSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./cc-ecs.ts","./cc-sap.ts","./BulletComponent.ts","./CollideComponent.ts","./DamageComponent.ts","./DestroyComponent.ts","./EnemyComponent.ts","./HarmComponent.ts","./PlayerComponent.ts","./PropComponent.ts","./SAP.ts","./NodeComponent.ts","./ecs.ts","./EcsSystem.ts"],(function(t){var e,n,a,o,i,s,l,c,d,p,r,u,y,m,h,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t.view},function(t){o=t.app},null,null,function(t){i=t.BulletComponent},function(t){s=t.CollideComponent},function(t){l=t.DamageComponent},function(t){c=t.DestroyComponent},function(t){d=t.EnemyComponent},function(t){p=t.HarmComponent},function(t){r=t.PlayerComponent},function(t){u=t.PropComponent},function(t){y=t.SAP},function(t){m=t.NodeComponent},function(t){h=t.filter},function(t){f=t.EcsSystem}],execute:function(){n._RF.push({},"f1ad7j0rUdCc44lQcHyAZNU","CollideSystem",void 0);t("CollideSystem",function(t){function n(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).physics=void 0,e.enemyFilter=h.all(d,s,m).exclude(c),e.playerFilter=h.all(r,s,m).exclude(c),e.bulletFilter=h.all(i,s,m).exclude(c),e.propFilter=h.all(u,s,m).exclude(c),e.matcher=h.all(s,m),e}e(n,t);var f=n.prototype;return f.onAdd=function(){this.physics=new y},f.onRemove=function(){this.physics.clear(),this.physics=null},f.onEntityEnter=function(t){this.physics.insert(t.get(s).body)},f.onEntityLeave=function(t){this.physics.remove(t.get(s).body)},f.playerAndEnemy=function(t,e){t.has(c)||t.add(c)},f.playerAndProp=function(t,e){var n=t.getComponent(r),a=e.getComponent(u);a.type===u.Type.Attack?n.attack+=a.value:a.type===u.Type.Speed?n.speed+=a.value:a.type===u.Type.Split&&(n.split+=a.value),e.add(c),o.manager.sound.playEffect({name:"effect/eat"})},f.bulletAndEnemy=function(t,e){t.add(c);var n=t.get(l);n&&((e.get(p)||e.add(p)).damage+=n.attack,o.manager.sound.playEffect({name:"effect/hit",interval:.1}))},f.execute=function(){var t=this,e=this.find(this.playerFilter,m),n=this.query(this.enemyFilter,m),o=this.query(this.bulletFilter,m),l=this.query(this.propFilter,m),p=a.getVisibleSize();e&&e.entity.get(s).body.setRect(e.boundingBox),n.forEach((function(t){t.maxY<-p.height/2&&t.entity.add(c),t.entity.get(s).body.setRect(t.boundingBox)})),o.forEach((function(t){t.maxY>p.height/2&&t.entity.add(c),t.entity.get(s).body.setRect(t.boundingBox)})),l.forEach((function(t){t.maxY<-p.height/2&&t.entity.add(c),t.entity.get(s).body.setRect(t.boundingBox)})),this.physics.trigger((function(e,n){e.data.has(r)?n.data.has(u)?t.playerAndProp(e.data,n.data):n.data.has(d)&&t.playerAndEnemy(e.data,n.data):e.data.has(i)?n.data.has(d)&&t.bulletAndEnemy(e.data,n.data):e.data.has(u)?n.data.has(r)&&t.playerAndProp(n.data,e.data):e.data.has(d)&&(n.data.has(i)?t.bulletAndEnemy(n.data,e.data):n.data.has(r)&&t.playerAndEnemy(n.data,e.data))}))},n}(f));n._RF.pop()}}}));

System.register("chunks:///_virtual/DamageComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(n){var t,e,o,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},null,function(n){o=n.ecsclass},function(n){c=n.EcsComponent}],execute:function(){var a,s;e._RF.push({},"7965facWotIL4Py1CKcClYy","DamageComponent",void 0);n("DamageComponent",o("DamageComponent")(((s=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return(t=n.call.apply(n,[this].concat(o))||this).attack=1,t}return t(e,n),e.prototype.onRemove=function(){this.attack=1},e}(c)).allowRecycling=!0,a=s))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/DataSingleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsSingleton.ts"],(function(n){var t,e,c,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},null,function(n){c=n.ecsclass},function(n){o=n.EcsSingleton}],execute:function(){var i;e._RF.push({},"0394f1ibdZI54d9fJcb2DvR","DataSingleton",void 0);n("DataSingleton",c("DataSingleton")(i=function(n){function e(){for(var t,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))||this).over=!1,t}return t(e,n),e}(o))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/DestroyComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(n){var t,e,o,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},null,function(n){o=n.ecsclass},function(n){c=n.EcsComponent}],execute:function(){var s,r;e._RF.push({},"ac2e8Dw1u9IWJbr0cxUIa1+","DestroyComponent",void 0);n("DestroyComponent",o("DestroyComponent")(((r=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(c)).allowRecycling=!0,s=r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/DestroySystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts","./cc-ecs.ts","./DestroyComponent.ts","./EnemyComponent.ts","./PlayerComponent.ts","./PropComponent.ts","./DataSingleton.ts","./NodeComponent.ts","./MoveComponent.ts","./ecs.ts","./EcsSystem.ts"],(function(t){var n,o,e,s,r,c,i,l,u,a,p,y;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy},function(t){e=t.GameController},null,function(t){s=t.DestroyComponent},function(t){r=t.EnemyComponent},function(t){c=t.PlayerComponent},function(t){i=t.PropComponent},function(t){l=t.DataSingleton},function(t){u=t.NodeComponent},function(t){a=t.MoveComponent},function(t){p=t.filter},function(t){y=t.EcsSystem}],execute:function(){o._RF.push({},"dd38djIN41G1rESHcoKwG0K","DestroySystem",void 0);t("DestroySystem",function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).destroyFilter=p.all(s),n}return n(o,t),o.prototype.afterExecute=function(t){var n=this;this.query(this.destroyFilter).forEach((function(t){t.has(r)&&t.has(u)?e.inst.prop(t.get(u)):t.has(c)&&(n.ecs.getSingleton(l).over=!0),t.has(r)?e.inst.collectEnemy(t.node):t.has(i)?e.inst.collectProp(t.node):t.has(a)?e.inst.collectBullet(t.node):t.node.destroy(),t.destroy()}))},o}(y));o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(n){var o,t,e,c,s,i;return{setters:[function(n){o=n.inheritsLoose,t=n.createClass},function(n){e=n.cclegacy,c=n.Label},null,function(n){s=n.ecsclass},function(n){i=n.EcsComponent}],execute:function(){var l,r;e._RF.push({},"9654dupUaZPq5Agk0TA24aF","EnemyComponent",void 0);n("EnemyComponent",s("EnemyComponent")(((r=function(n){function e(){for(var o,t=arguments.length,e=new Array(t),c=0;c<t;c++)e[c]=arguments[c];return(o=n.call.apply(n,[this].concat(e))||this)._blood=1,o}return o(e,n),e.prototype.onRemove=function(){this._blood=1},t(e,[{key:"blood",get:function(){return this._blood},set:function(n){this.entity.node.getChildByName("blood").getComponent(c).string=n.toString(),this._blood=n}}]),e}(i)).allowRecycling=!0,l=r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/EnemySystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts","./cc-ecs.ts","./EcsSystem.ts"],(function(e){var t,n,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.GameController},null,function(e){c=e.EcsSystem}],execute:function(){n._RF.push({},"b6bbdIi685Gpo7Ue3Hp4DaL","EnemySystem",void 0);e("EnemySystem",function(e){function n(){for(var t,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))||this).pause=0,t}return t(n,e),n.prototype.execute=function(e){this.pause-=e,this.pause>0||(this.pause=4,s.inst.enemy())},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/HarmComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(n){var t,o,e,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},null,function(n){e=n.ecsclass},function(n){c=n.EcsComponent}],execute:function(){var r,s;o._RF.push({},"1d41bas4ERKz6H9fY8T219K","HarmComponent",void 0);n("HarmComponent",e("HarmComponent")(((s=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return(t=n.call.apply(n,[this].concat(e))||this).damage=0,t}return t(o,n),o.prototype.onRemove=function(){this.damage=0},o}(c)).allowRecycling=!0,r=s))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/HarmSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./DestroyComponent.ts","./EnemyComponent.ts","./HarmComponent.ts","./ecs.ts","./EcsSystem.ts"],(function(t){var n,e,o,r,s,c,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){o=t.DestroyComponent},function(t){r=t.EnemyComponent},function(t){s=t.HarmComponent},function(t){c=t.filter},function(t){i=t.EcsSystem}],execute:function(){e._RF.push({},"de78bwqq1ROY79rrkW15lly","HarmSystem",void 0);t("HarmSystem",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).harmFilter=c.all(s),n}return n(e,t),e.prototype.execute=function(t){this.query(this.harmFilter).forEach((function(t){var n=t.get(s),e=t.get(r);e&&(e.blood=Math.max(e.blood-n.damage,0),e.blood<=0&&t.add(o)),n.destroy()}))},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/InputSingleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsSingleton.ts"],(function(n){var t,e,c,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},null,function(n){c=n.ecsclass},function(n){o=n.EcsSingleton}],execute:function(){var s;e._RF.push({},"9e1d5IkxFdLuLyDoQoy57A/","InputSingleton",void 0);n("InputSingleton",c("InputSingleton")(s=function(n){function e(){for(var t,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return(t=n.call.apply(n,[this].concat(c))||this).x=0,t.y=0,t}return t(e,n),e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/InputSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./DestroyComponent.ts","./PlayerComponent.ts","./InputSingleton.ts","./NodeComponent.ts","./ecs.ts","./EcsSystem.ts"],(function(t){var n,e,o,s,i,c,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){o=t.DestroyComponent},function(t){s=t.PlayerComponent},function(t){i=t.InputSingleton},function(t){c=t.NodeComponent},function(t){u=t.filter},function(t){r=t.EcsSystem}],execute:function(){e._RF.push({},"7e8b5yxHMFFW4qRxshuSfpx","InputSystem",void 0);t("InputSystem",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).filter=u.all(s,c).exclude(o),n}return n(e,t),e.prototype.execute=function(){var t=this.find(this.filter);if(t){var n=this.ecs.getSingleton(i);t.get(c).setPosition(n.x,n.y)}},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/MyEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsEntity.ts"],(function(t){var n,c,e;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy},null,function(t){e=t.EcsEntity}],execute:function(){c._RF.push({},"11c155g/KhHGY6EfxIQIsg/","MyEntity",void 0),t("MyEntity",function(t){function c(){return t.apply(this,arguments)||this}return n(c,t),c}(e)).recovery=!0,c._RF.pop()}}}));

System.register("chunks:///_virtual/page-game",["./PageGame.ts","./BulletComponent.ts","./CollideComponent.ts","./DamageComponent.ts","./DestroyComponent.ts","./EnemyComponent.ts","./HarmComponent.ts","./PlayerComponent.ts","./PropComponent.ts","./MyEntity.ts","./DataSingleton.ts","./InputSingleton.ts","./CollideSystem.ts","./DestroySystem.ts","./EnemySystem.ts","./HarmSystem.ts","./InputSystem.ts","./ShootSystem.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PageGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./GameController.ts","./app.ts","./cc-ecs.ts","./BulletComponent.ts","./CollideComponent.ts","./DamageComponent.ts","./EnemyComponent.ts","./PlayerComponent.ts","./PropComponent.ts","./MyEntity.ts","./DataSingleton.ts","./InputSingleton.ts","./CollideSystem.ts","./DestroySystem.ts","./EnemySystem.ts","./HarmSystem.ts","./InputSystem.ts","./ShootSystem.ts","./ecs.ts","./MoveSystem.ts","./NodeComponent.ts","./MoveComponent.ts"],(function(t){var e,n,o,i,r,a,s,l,p,u,c,y,d,m,h,f,C,v,g,S,b,P,E,w,x,B,M,G,z,D,I,k,T,R;return{setters:[function(t){e=t.inheritsLoose,n=t.applyDecoratedDescriptor,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.instantiate,p=t.UITransform,u=t.Node,c=t.v3,y=t.view},function(t){d=t.default},function(t){m=t.GameController},function(t){h=t.app},null,function(t){f=t.BulletComponent},function(t){C=t.CollideComponent},function(t){v=t.DamageComponent},function(t){g=t.EnemyComponent},function(t){S=t.PlayerComponent},function(t){b=t.PropComponent},function(t){P=t.MyEntity},function(t){E=t.DataSingleton},function(t){w=t.InputSingleton},function(t){x=t.CollideSystem},function(t){B=t.DestroySystem},function(t){M=t.EnemySystem},function(t){G=t.HarmSystem},function(t){z=t.InputSystem},function(t){D=t.ShootSystem},function(t){I=t.ecs},function(t){k=t.MoveSystem},function(t){T=t.NodeComponent},function(t){R=t.MoveComponent}],execute:function(){var H,V,L,O,_,N,A,U,F,j,q;r._RF.push({},"2556b7qH6tGsIhMKuye60Ln","PageGame",void 0);var K=function(t){return t[t.Player=1]="Player",t[t.Bullet=2]="Bullet",t[t.Enemy=4]="Enemy",t[t.Prop=8]="Prop",t}(K||{}),J=function(t){return t[t.Player=12]="Player",t[t.Bullet=4]="Bullet",t[t.Enemy=3]="Enemy",t[t.Prop=1]="Prop",t}(J||{}),Q=a.ccclass,W=a.property;t("PageGame",(H=Q("PageGame"),V=W(s),L=W(s),O=W(s),_=W(s),H((A=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).miniViews=["PaperGameIndex"],o(e,"player",U,i(e)),o(e,"bullet",F,i(e)),o(e,"enemy",j,i(e)),o(e,"prop",q,i(e)),e.bulletCache=[],e.enemyCache=[],e.propCache=[],e.slow=1,e}e(n,t);var r=n.prototype;return r.onLoad=function(){I.addSystem(z),I.addSystem(M),I.addSystem(D),I.addSystem(k),I.addSystem(x),I.addSystem(G),I.addSystem(B),I.addSingleton(E),this.controller.on(m.Event.Shoot,this.onShoot,this),this.controller.on(m.Event.Enemy,this.onEnemy,this),this.controller.on(m.Event.Prop,this.onProp,this),this.controller.on(m.Event.CollectBullet,this.onCollectBullet,this),this.controller.on(m.Event.CollectEnemy,this.onCollectEnemy,this),this.controller.on(m.Event.CollectProp,this.onCollectProp,this),this.initCache(),this.initPlayer()},r.onShow=function(t){h.manager.sound.playMusic({name:"music/war"}),this.showMiniViews({views:this.miniViews})},r.onHide=function(t){return I.clear(),this.controller.targetOff(this),t},r.update=function(t){!0===I.getSingleton(E).over?(this.slow+=.1,I.execute(t/this.slow)):(I.execute(t),!0===I.getSingleton(E).over&&(h.manager.sound.playMusic({name:"music/over"}),this.scheduleOnce((function(){h.manager.ui.show({name:"PopOver"})}),.3)))},r.initCache=function(){for(var t=0;t<50;t++){var e=l(this.bullet);this.onCollectBullet(e)}for(var n=0;n<12;n++){var o=l(this.enemy);this.onCollectEnemy(o)}for(var i=0;i<12;i++){var r=l(this.prop);this.onCollectProp(r)}},r.initPlayer=function(){var t=l(this.player);t.parent=this.node;var e=I.createEntity(P,{node:t});e.add(S);var n=e.add(T);n.setContentSize(t.getComponent(p).width,t.getComponent(p).height);var o=e.add(C);o.body.setGroup(K.Player),o.body.setMask(J.Player),o.body.setRect(n.boundingBox);var i=this.node.getComponent(p),r=I.addSingleton(w);t.on(u.EventType.TOUCH_MOVE,(function(t){var e=t.getUILocation(),n=i.convertToNodeSpaceAR(c(e.x,e.y,1)),o=n.x,a=n.y;r.x=o,r.y=a}),this)},r.onCollectBullet=function(t){t.setPosition(1e4,0,0),this.bulletCache.push(t)},r.onCollectEnemy=function(t){t.setPosition(1e4,0,0),this.enemyCache.push(t)},r.onCollectProp=function(t){t.setPosition(1e4,0,0),this.propCache.push(t)},r.onShoot=function(t,e){for(var n=e.split+1,o=(5*n+5)/10,i=1;i<=n;i++){var r=this.bulletCache.pop()||l(this.bullet);r.parent||(r.parent=this.node),r.x=t.x,r.y=t.y;var a=I.createEntity(P,{node:r});a.add(v).attack=e.attack;var s=a.add(T);s.setPosition(t.x,t.y),s.setContentSize(r.getComponent(p).width,r.getComponent(p).height);var u=a.add(C);u.body.setGroup(K.Bullet),u.body.setMask(J.Bullet),u.body.setRect(s.boundingBox);var c=a.add(R);c.toward=10*(i-o)+90,c.speed=1e3,a.add(f)}h.manager.sound.playEffect({name:"effect/shoot",volume:.6,interval:.1})},r.onProp=function(t){var e=this.propCache.pop()||l(this.prop);e.parent||(e.parent=this.node),e.x=t.x,e.y=t.y;var n=I.createEntity(P,{node:e}),o=n.add(T);o.setPosition(t.x,t.y),o.setContentSize(e.getComponent(p).width,e.getComponent(p).height);var i=n.add(C);i.body.setGroup(K.Prop),i.body.setMask(J.Prop),i.body.setRect(o.boundingBox);var r=n.add(R);r.toward=-90,r.speed=300;var a=n.add(b);Math.random()<.3?(a.value=1,a.type=b.Type.Speed):Math.random()<.3?(a.value=1,a.type=b.Type.Attack):(a.value=1,a.type=b.Type.Split)},r.onEnemy=function(){for(var t=-1;t<=1;t++){var e=this.enemyCache.pop()||l(this.enemy);e.parent||(e.parent=this.node),e.x=250*t,e.y=y.getVisibleSize().height/2+e.getComponent(p).height/2;var n=I.createEntity(P,{node:e}),o=n.add(T);o.setPosition(e.x,e.y),o.setContentSize(e.getComponent(p).width,e.getComponent(p).height);var i=n.add(C);i.body.setGroup(K.Enemy),i.body.setMask(J.Enemy),i.body.setRect(o.boundingBox);var r=n.add(R);r.toward=-90,r.speed=200,n.add(g).blood=(t+1)*(t+1)*100+3}},n}(d.BindController(m)),U=n(A.prototype,"player",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(A.prototype,"bullet",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(A.prototype,"enemy",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(A.prototype,"prop",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(t){var e,n,s,c,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){s=t.cclegacy},null,function(t){c=t.ecsclass},function(t){o=t.EcsComponent}],execute:function(){var i,r;s._RF.push({},"0a0a5rmWrBND42CGNt/6jtK","PlayerComponent",void 0);t("PlayerComponent",c("PlayerComponent")(((r=function(t){function s(){for(var e,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))||this)._attack=1,e._speed=1,e._split=0,e}return e(s,t),s.prototype.onRemove=function(){this._attack=1,this._speed=1,this._split=0},n(s,[{key:"attack",get:function(){return this._attack},set:function(t){t>20&&(t=20),this._attack=t}},{key:"speed",get:function(){return this._speed},set:function(t){t>10&&(t=10),this._speed=t}},{key:"split",get:function(){return this._split},set:function(t){t>6&&(t=6),this._split=t}},{key:"interval",get:function(){return 1/this.speed}}]),s}(o)).allowRecycling=!0,i=r))||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/PropComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./cc-ecs.ts","./EcsManager.ts","./EcsComponent.ts"],(function(t){var e,n,o,c,i,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,c=t.Label},null,function(t){i=t.ecsclass},function(t){s=t.EcsComponent}],execute:function(){var r,p;o._RF.push({},"c2b96U0C6BCnovBuQMEYQx0","PropComponent",void 0);var u=function(t){return t[t.None=0]="None",t[t.Attack=1]="Attack",t[t.Speed=2]="Speed",t[t.Split=3]="Split",t}(u||{});t("PropComponent",i("PropComponent")(((p=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this)._type=u.None,e.value=1,e}return e(o,t),o.prototype.onRemove=function(){this._type=u.None,this.value=1},n(o,[{key:"type",get:function(){return this._type},set:function(t){t===u.Attack?this.entity.node.getChildByName("desc").getComponent(c).string="攻击力":t===u.Speed?this.entity.node.getChildByName("desc").getComponent(c).string="攻击速度":this.entity.node.getChildByName("desc").getComponent(c).string="攻击分裂",this._type=t}}]),o}(s)).allowRecycling=!0,p.Type=u,r=p))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ShootSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameController.ts","./cc-ecs.ts","./PlayerComponent.ts","./NodeComponent.ts","./ecs.ts","./EcsSystem.ts"],(function(t){var e,n,o,s,r,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.GameController},null,function(t){s=t.PlayerComponent},function(t){r=t.NodeComponent},function(t){i=t.filter},function(t){c=t.EcsSystem}],execute:function(){n._RF.push({},"7bbfbbpON1A56yhhwTUHLj4","ShootSystem",void 0);t("ShootSystem",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).playerFilter=i.all(s,r),e.pause=0,e}return e(n,t),n.prototype.execute=function(t){var e=this.find(this.playerFilter);if(e&&(this.pause-=t,!(this.pause>0))){var n=e.get(r),i=e.get(s);this.pause=i.interval,o.inst.shoot(n,i)}},n}(c));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/page-game', 'chunks:///_virtual/page-game'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});